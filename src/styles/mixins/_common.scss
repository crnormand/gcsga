@mixin header {
	header {
		color: rgb(var(--color-on-header));
		background-color: rgb(var(--color-header));
		padding: var(--padding-header);

		text-align: center;
		white-space: nowrap;

		span.reference {
			border: none;
			padding: 0;
			color: inherit;
			border-radius: 0;
		}
	}
}

@mixin details {
	i.gcs-info,
	a.button {
		align-self: center;
		color: rgb(var(--color-icon-button));

		&:hover {
			color: rgb(var(--color-icon-button-rollover));
			box-shadow: none;
			text-shadow: none;
		}
	}

	input[type="text"],
	input[type="search"],
	input[type="number"] {
		font: var(--font-field);
		height: 1.5rem;
		width: 100%;
		min-width: 40px;
		border-radius: 0px;
		background-color: rgb(var(--color-editable));
		color: rgb(var(--color-on-editable));
		border: 1px solid rgba(var(--color-control-edge));
		padding: 1px 3px;

		&:focus {
			box-shadow: none;
			border-width: 2px;
			padding: 0 2px;
		}

		&[readonly] {
			background-color: rgb(var(--color-background));
			color: rgb(var(--color-on-background));
			pointer-events: none;
		}
		&:disabled {
			background-color: rgb(var(--color-background));
			pointer-events: none;
		}

		&.invalid {
			background-color: rgb(var(--color-error));
			color: rgb(var(--color-on-error));
		}
	}

	input[type="checkbox"] {
		appearance: none;
		margin: 0;
		background-color: rgb(var(--color-control));
		color: rgb(var(--color-on-control)); // Redundant?
		font: inherit;
		width: 0.875rem;
		max-width: 0.875rem;
		height: 0.875rem;
		border: 1px solid rgb(var(--color-control-edge));
		border-radius: 4px;
		display: flex;
		filter: none;

		&:focus,
		&:focus-visible {
			border-width: 2px;
			outline: none;
			box-shadow: none;
		}

		&:active {
			background-color: rgb(var(--color-pressed-control));
		}

		&::before {
			font-family: "gcs";
			font-size: var(--font-size-12);
			content: "\e805";
			opacity: 0;
		}

		&:checked::before {
			opacity: 1;
		}
	}

	label {
		display: flex;
		align-self: center;
		flex-direction: row-reverse;
		white-space: nowrap;

		color: rgb(var(--color-on-background));

		&.check {
			gap: 5px;
			align-items: center;
		}
	}

	.field {
		display: flex;
		align-items: start;
		gap: 9px;
		flex: 1;

		&.no-stretch {
			width: max-content;
		}

		> label.check {
			flex-direction: row;
		}
	}

	select {
		align-self: center;
		font: var(--font-system);
		background-color: rgb(var(--color-control));
		color: rgb(var(--color-on-control));
		border: 1px solid rgb(var(--color-control-edge));
		padding: var(--padding-standard);
		border-radius: 3px;
		height: 1.5rem;
		width: max-content;
		align-items: self-end;

		optgroup {
			font: var(--font-system);
			background-color: rgb(var(--color-header));
			color: rgb(var(--color-on-header));
			border: 1px solid rgb(var(--color-on-header));
		}

		option {
			font: var(--font-system);
			background-color: rgb(var(--color-control));
			color: rgb(var(--color-on-control));
			border: 1px solid rgb(var(--color-control-edge));
		}

		&:focus {
			box-shadow: none;
			border-width: 2px;
			padding: 0px 2px;
		}
	}
}

@mixin fieldblock {
	div.fieldblock,
	div.fieldblock-3,
	div.fieldblock-6,
	div.fieldblock-7 {
		display: grid;
		grid-auto-rows: 0fr;
		column-gap: 0.5rem;

		span,
		label {
			align-self: center;
			padding: 0;
			font: var(--font-page-primary-labels);
			width: max-content;
		}

		label {
			margin-left: auto;
		}
		div.field {
			padding: 0;
			font: var(--font-page-primary-fields);

			input[type="text"],
			input[type="number"] {
				height: 1.125rem;

				padding: var(--padding-input);
				border: none;
				border-radius: 0;
				border-bottom: 1px solid rgb(var(--color-control-edge));

				color: rgb(var(--color-on-editable));
				background: rgb(var(--color-editable));

				&[disabled] {
					color: rgba(var(--color-on-editable), 0.6);
					border-bottom: 1px solid transparent;
					background-color: inherit;
					pointer-events: none;
				}

				&:focus {
					border-bottom: 1px solid rgb(var(--color-on-editable));
				}
			}
		}
	}

	input:active,
	input:hover,
	input:focus,
	select:focus,
	a:hover {
		box-shadow: none;
		text-shadow: none;
	}

	div.fieldblock {
		grid-template-columns: min-content auto;

		label {
			text-align: right;
		}
	}

	div.fieldblock-3 {
		grid-template-columns: 0fr 0fr 1fr;
	}

	div.fieldblock-6 {
		grid-template-columns: 0fr 1fr 0fr 1fr 0fr 0fr;
	}

	div.fieldblock-7 {
		grid-template-columns: 0fr 0fr 1fr 0fr 1fr 0fr 0fr;
	}
}
